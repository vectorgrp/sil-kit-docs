

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Publish/Subscribe C API &#8212; Vector SIL Kit 4.0.5 documentation</title>
    <link rel="stylesheet" href="../../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="RPC C API" href="rpc.html" />
    <link rel="prev" title="FlexRay C API" href="flexray.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="rpc.html" title="RPC C API"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="flexray.html" title="FlexRay C API"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../contents.html">Vector SIL Kit 4.0.5 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../api.html" >API</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="capi.html" accesskey="U">C API</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Data Publish/Subscribe C API</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="data-publish-subscribe-c-api">
<h1>Data Publish/Subscribe C API<a class="headerlink" href="#data-publish-subscribe-c-api" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#datapublishers" id="id1">DataPublishers</a></li>
<li><a class="reference internal" href="#datasubscribers" id="id2">DataSubscribers</a></li>
<li><a class="reference internal" href="#handlers" id="id3">Handlers</a></li>
<li><a class="reference internal" href="#data-structures" id="id4">Data Structures</a></li>
</ul>
</div>
<p>The Publish/Subscribe API provides a topic-based publish / subscribe mechanism to exchange arbitrary user data.
It consists of DataPublishers and DataSubscribers.</p>
<div class="section" id="datapublishers">
<h2><a class="toc-backref" href="#id1">DataPublishers</a><a class="headerlink" href="#datapublishers" title="Permalink to this headline">¶</a></h2>
<dl class="cpp function">
<dt id="_CPPv427SilKit_DataPublisher_CreatePP20SilKit_DataPublisherP18SilKit_ParticipantPKcP15SilKit_DataSpec7uint8_t">
<span id="_CPPv327SilKit_DataPublisher_CreatePP20SilKit_DataPublisherP18SilKit_ParticipantPKcP15SilKit_DataSpec7uint8_t"></span><span id="_CPPv227SilKit_DataPublisher_CreatePP20SilKit_DataPublisherP18SilKit_ParticipantPKcP15SilKit_DataSpec7uint8_t"></span><span id="SilKit_DataPublisher_Create__SilKit_DataPublisherPP.SilKit_ParticipantP.cCP.SilKit_DataSpecP.uint8_t"></span><span class="target" id="_data_pub_sub_8h_1aea74de16d4f6e6c36979b99a96a92a5c"></span>SilKit_ReturnCode <code class="descname">SilKit_DataPublisher_Create</code><span class="sig-paren">(</span>SilKit_DataPublisher **<em>outPublisher</em>, SilKit_Participant *<em>participant</em>, <em class="property">const</em> char *<em>controllerName</em>, SilKit_DataSpec *<em>dataSpec</em>, uint8_t <em>history</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427SilKit_DataPublisher_CreatePP20SilKit_DataPublisherP18SilKit_ParticipantPKcP15SilKit_DataSpec7uint8_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create a DataPublisher on the provided simulation participant with the provided properties. </p>
<p><dl class="docutils">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><code class="docutils literal notranslate"><span class="pre">outPublisher</span></code>: Pointer to which the resulting DataPublisher reference will be written. </li>
<li><code class="docutils literal notranslate"><span class="pre">participant</span></code>: The simulation participant for which the DataPublisher should be created. </li>
<li><code class="docutils literal notranslate"><span class="pre">controllerName</span></code>: The name of this controller. </li>
<li><code class="docutils literal notranslate"><span class="pre">dataSpec</span></code>: The specification of topic, media type and labels. </li>
<li><code class="docutils literal notranslate"><span class="pre">history</span></code>: A number indicating the number of historic values that should be replayed for a new DataSubscriber. Restricted to {0|1}. </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv428SilKit_DataPublisher_PublishP20SilKit_DataPublisherPK17SilKit_ByteVector">
<span id="_CPPv328SilKit_DataPublisher_PublishP20SilKit_DataPublisherPK17SilKit_ByteVector"></span><span id="_CPPv228SilKit_DataPublisher_PublishP20SilKit_DataPublisherPK17SilKit_ByteVector"></span><span id="SilKit_DataPublisher_Publish__SilKit_DataPublisherP.SilKit_ByteVectorCP"></span><span class="target" id="_data_pub_sub_8h_1a8f6ca32f8d17a88adeaffd4fda26be2c"></span>SilKit_ReturnCode <code class="descname">SilKit_DataPublisher_Publish</code><span class="sig-paren">(</span>SilKit_DataPublisher *<em>self</em>, <em class="property">const</em> SilKit_ByteVector *<em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428SilKit_DataPublisher_PublishP20SilKit_DataPublisherPK17SilKit_ByteVector" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Publish data through the provided DataPublisher. </p>
<p><dl class="docutils">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><code class="docutils literal notranslate"><span class="pre">self</span></code>: The DataPublisher that should publish the data. </li>
<li><code class="docutils literal notranslate"><span class="pre">data</span></code>: The data that should be published. </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="datasubscribers">
<h2><a class="toc-backref" href="#id2">DataSubscribers</a><a class="headerlink" href="#datasubscribers" title="Permalink to this headline">¶</a></h2>
<dl class="cpp function">
<dt id="_CPPv428SilKit_DataSubscriber_CreatePP21SilKit_DataSubscriberP18SilKit_ParticipantPKcP15SilKit_DataSpecPv27SilKit_DataMessageHandler_t">
<span id="_CPPv328SilKit_DataSubscriber_CreatePP21SilKit_DataSubscriberP18SilKit_ParticipantPKcP15SilKit_DataSpecPv27SilKit_DataMessageHandler_t"></span><span id="_CPPv228SilKit_DataSubscriber_CreatePP21SilKit_DataSubscriberP18SilKit_ParticipantPKcP15SilKit_DataSpecPv27SilKit_DataMessageHandler_t"></span><span id="SilKit_DataSubscriber_Create__SilKit_DataSubscriberPP.SilKit_ParticipantP.cCP.SilKit_DataSpecP.voidP.SilKit_DataMessageHandler_t"></span><span class="target" id="_data_pub_sub_8h_1a5acdea100edec11604994e3ca2bb42ef"></span>SilKit_ReturnCode <code class="descname">SilKit_DataSubscriber_Create</code><span class="sig-paren">(</span>SilKit_DataSubscriber **<em>outSubscriber</em>, SilKit_Participant *<em>participant</em>, <em class="property">const</em> char *<em>controllerName</em>, SilKit_DataSpec *<em>dataSpec</em>, void *<em>dataHandlerContext</em>, <a class="reference internal" href="#_CPPv427SilKit_DataMessageHandler_t" title="SilKit_DataMessageHandler_t">SilKit_DataMessageHandler_t</a> <em>dataHandler</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428SilKit_DataSubscriber_CreatePP21SilKit_DataSubscriberP18SilKit_ParticipantPKcP15SilKit_DataSpecPv27SilKit_DataMessageHandler_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create a DataSubscriber on the provided simulation participant with the provided properties. </p>
<p><dl class="docutils">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><code class="docutils literal notranslate"><span class="pre">outSubscriber</span></code>: Pointer to which the resulting DataSubscriber reference will be written. </li>
<li><code class="docutils literal notranslate"><span class="pre">participant</span></code>: The simulation participant for which the DataSubscriber should be created. </li>
<li><code class="docutils literal notranslate"><span class="pre">controllerName</span></code>: The name of this controller. </li>
<li><code class="docutils literal notranslate"><span class="pre">dataSpec</span></code>: The specification of topic, media type and labels. </li>
<li><code class="docutils literal notranslate"><span class="pre">dataHandlerContext</span></code>: A user provided context that is reobtained on data reception in the dataHandler. </li>
<li><code class="docutils literal notranslate"><span class="pre">dataHandler</span></code>: The handler that is called on data reception. Can be overwritten by <a class="reference internal" href="#_data_pub_sub_8h_1a18f068f41e812fbfe98ecedda5a6e751"><span class="std std-ref">SilKit_DataSubscriber_SetDataMessageHandler</span></a>. </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv443SilKit_DataSubscriber_SetDataMessageHandlerP21SilKit_DataSubscriberPv27SilKit_DataMessageHandler_t">
<span id="_CPPv343SilKit_DataSubscriber_SetDataMessageHandlerP21SilKit_DataSubscriberPv27SilKit_DataMessageHandler_t"></span><span id="_CPPv243SilKit_DataSubscriber_SetDataMessageHandlerP21SilKit_DataSubscriberPv27SilKit_DataMessageHandler_t"></span><span id="SilKit_DataSubscriber_SetDataMessageHandler__SilKit_DataSubscriberP.voidP.SilKit_DataMessageHandler_t"></span><span class="target" id="_data_pub_sub_8h_1a18f068f41e812fbfe98ecedda5a6e751"></span>SilKit_ReturnCode <code class="descname">SilKit_DataSubscriber_SetDataMessageHandler</code><span class="sig-paren">(</span>SilKit_DataSubscriber *<em>self</em>, void *<em>context</em>, <a class="reference internal" href="#_CPPv427SilKit_DataMessageHandler_t" title="SilKit_DataMessageHandler_t">SilKit_DataMessageHandler_t</a> <em>dataHandler</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv443SilKit_DataSubscriber_SetDataMessageHandlerP21SilKit_DataSubscriberPv27SilKit_DataMessageHandler_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Sets / overwrites the default handler to be called on data reception. </p>
<p><dl class="docutils">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><code class="docutils literal notranslate"><span class="pre">self</span></code>: The DataSubscriber for which the handler should be set. </li>
<li><code class="docutils literal notranslate"><span class="pre">context</span></code>: A user provided context, that is reobtained on data reception in the dataHandler. </li>
<li><code class="docutils literal notranslate"><span class="pre">dataHandler</span></code>: A handler that is called on data reception. </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="handlers">
<h2><a class="toc-backref" href="#id3">Handlers</a><a class="headerlink" href="#handlers" title="Permalink to this headline">¶</a></h2>
<p>The DataSubscriber is created with a handler for data reception:</p>
<dl class="cpp type">
<dt id="_CPPv427SilKit_DataMessageHandler_t">
<span id="_CPPv327SilKit_DataMessageHandler_t"></span><span id="_CPPv227SilKit_DataMessageHandler_t"></span><span id="SilKit_DataMessageHandler_t"></span><span class="target" id="_data_pub_sub_8h_1ac4935c620c563a705e4bd93ebff9a816"></span><em class="property">typedef </em>void (*<code class="descname">SilKit_DataMessageHandler_t</code>)<span class="sig-paren">(</span>void *context, SilKit_DataSubscriber *subscriber, <em class="property">const</em> <a class="reference internal" href="#_CPPv423SilKit_DataMessageEvent" title="SilKit_DataMessageEvent">SilKit_DataMessageEvent</a> *dataMessageEvent<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427SilKit_DataMessageHandler_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Handler type for incoming data message events on DataSubscribers. </p>
<p><dl class="docutils">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><code class="docutils literal notranslate"><span class="pre">context</span></code>: The context that the user provided on registration. </li>
<li><code class="docutils literal notranslate"><span class="pre">subscriber</span></code>: The affected subscriber. </li>
<li><code class="docutils literal notranslate"><span class="pre">dataMessageEvent</span></code>: Contains the raw data and send timestamp. </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="data-structures">
<h2><a class="toc-backref" href="#id4">Data Structures</a><a class="headerlink" href="#data-structures" title="Permalink to this headline">¶</a></h2>
<dl class="cpp struct">
<dt id="_CPPv423SilKit_DataMessageEvent">
<span id="_CPPv323SilKit_DataMessageEvent"></span><span id="_CPPv223SilKit_DataMessageEvent"></span><span id="SilKit_DataMessageEvent"></span><span class="target" id="struct_sil_kit___data_message_event"></span><em class="property">struct </em><code class="descname">SilKit_DataMessageEvent</code><a class="headerlink" href="#_CPPv423SilKit_DataMessageEvent" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>An incoming DataMessage of a DataPublisher containing raw data and timestamp. </p>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N23SilKit_DataMessageEvent9timestampE">
<span id="_CPPv3N23SilKit_DataMessageEvent9timestampE"></span><span id="_CPPv2N23SilKit_DataMessageEvent9timestampE"></span><span id="SilKit_DataMessageEvent::timestamp__SilKit_NanosecondsTime"></span><span class="target" id="struct_sil_kit___data_message_event_1a6aebbe6dc4cc8826c8a14fcc39061cdb"></span>SilKit_NanosecondsTime <code class="descname">timestamp</code><a class="headerlink" href="#_CPPv4N23SilKit_DataMessageEvent9timestampE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Send timestamp of the event. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N23SilKit_DataMessageEvent4dataE">
<span id="_CPPv3N23SilKit_DataMessageEvent4dataE"></span><span id="_CPPv2N23SilKit_DataMessageEvent4dataE"></span><span id="SilKit_DataMessageEvent::data__SilKit_ByteVector"></span><span class="target" id="struct_sil_kit___data_message_event_1a8ffcd130f295e2bb08e01db326687653"></span>SilKit_ByteVector <code class="descname">data</code><a class="headerlink" href="#_CPPv4N23SilKit_DataMessageEvent4dataE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Data field containing the payload. </p>
</dd></dl>

</div>
</dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../contents.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Vector SIL Kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../simulation/simulation.html">Simulation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api.html#api-entry-point-and-api-organization">API Entry Point and API Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#services">Services</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../api.html#c-api">C API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/demos.html">Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CHANGELOG.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../licenses/license.html">SIL Kit License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../licenses/license.html#third-party-licenses">Third-Party Licenses</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/api/capi/data.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="rpc.html" title="RPC C API"
             >next</a> |</li>
        <li class="right" >
          <a href="flexray.html" title="FlexRay C API"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../contents.html">Vector SIL Kit 4.0.5 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../api.html" >API</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="capi.html" >C API</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Data Publish/Subscribe C API</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Copyright (c) 2022 Vector Informatik GmbH.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
  </body>
</html>