

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C API &#8212; Vector SIL Kit 4.0.6 documentation</title>
    <link rel="stylesheet" href="../../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Can C API" href="can.html" />
    <link rel="prev" title="Common Service Data Types" href="../common.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="can.html" title="Can C API"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../common.html" title="Common Service Data Types"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../contents.html">Vector SIL Kit 4.0.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../api.html" accesskey="U">API</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">C API</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="c-api">
<span id="sec-capi"></span><h1>C API<a class="headerlink" href="#c-api" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#sil-kit-entry-point-and-api-organization" id="id1">SIL Kit Entry Point and API Organization</a></li>
<li><a class="reference internal" href="#api-and-data-type-reference" id="id2">API and Data Type Reference</a><ul>
<li><a class="reference internal" href="#general-api" id="id3">General API</a></li>
<li><a class="reference internal" href="#participant-api" id="id4">Participant API</a></li>
<li><a class="reference internal" href="#services" id="id5">Services</a><ul>
<li><a class="reference internal" href="#vehicle-network-controller" id="id6">Vehicle Network Controller</a></li>
<li><a class="reference internal" href="#data-messages-and-rpc" id="id7">Data Messages and RPC</a></li>
<li><a class="reference internal" href="#state-handling-and-synchronization" id="id8">State Handling and Synchronization</a></li>
<li><a class="reference internal" href="#the-logger-api" id="id9">The Logger API</a></li>
</ul>
</li>
<li><a class="reference internal" href="#enumerations-and-typedefs" id="id10">Enumerations and Typedefs</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="sil-kit-entry-point-and-api-organization">
<h2><a class="toc-backref" href="#id1">SIL Kit Entry Point and API Organization</a><a class="headerlink" href="#sil-kit-entry-point-and-api-organization" title="Permalink to this headline">¶</a></h2>
<p>The main entry point of the C API is the function to obtain a SilKit_Participant:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">SilKit_ParticipantConfiguration</span><span class="o">*</span> <span class="n">participantConfiguration</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="n">SilKit_Participant</span><span class="o">*</span> <span class="n">participant</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">configString</span> <span class="o">=</span> <span class="s">&quot;{ ... }&quot;</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">participantName</span> <span class="o">=</span> <span class="s">&quot;CanWriter&quot;</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">registryUri</span> <span class="o">=</span> <span class="s">&quot;silkit://localhost:8500&quot;</span><span class="p">;</span>
<span class="n">SilKit_ReturnCode</span> <span class="n">result</span><span class="p">;</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">SilKit_ParticipantConfiguration_FromString</span><span class="p">(</span><span class="o">&amp;</span><span class="n">participantConfiguration</span><span class="p">,</span> <span class="n">configString</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">!=</span> <span class="n">SilKit_ReturnCode_SUCCESS</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">SilKit_Participant_Create</span><span class="p">(</span><span class="o">&amp;</span><span class="n">participant</span><span class="p">,</span> <span class="n">configString</span><span class="p">,</span>
                                                        <span class="n">participantName</span><span class="p">,</span> <span class="n">registryUri</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">!=</span> <span class="n">SilKit_ReturnCode_SUCCESS</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
</pre></div>
</div>
<p>All further services of the C API of the SIL Kit are requested through this Participant.</p>
<p>Entities obtained through the Participant must not be destroyed/deleted by the user of the API.
All entities, that are provided through the API expect for the SilKit_Participant are destroyed through
the internals of the SIL Kit implementation.</p>
<p>After creation of a Participant it must be ensured that eventually SilKit_Participant_Destroy is called
with the corresponding pointer to the SilKit_Participant entity.</p>
</div>
<div class="section" id="api-and-data-type-reference">
<h2><a class="toc-backref" href="#id2">API and Data Type Reference</a><a class="headerlink" href="#api-and-data-type-reference" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general-api">
<h3><a class="toc-backref" href="#id3">General API</a><a class="headerlink" href="#general-api" title="Permalink to this headline">¶</a></h3>
<dl class="cpp function">
<dt id="_CPPv425SilKit_ReturnCodeToStringPPKc17SilKit_ReturnCode">
<span id="_CPPv325SilKit_ReturnCodeToStringPPKc17SilKit_ReturnCode"></span><span id="_CPPv225SilKit_ReturnCodeToStringPPKc17SilKit_ReturnCode"></span><span id="SilKit_ReturnCodeToString__cCPP.SilKit_ReturnCode"></span><span class="target" id="_sil_kit_8h_1a2620c10b459188e44daf8bf440759a9e"></span>SilKit_ReturnCode <code class="descname">SilKit_ReturnCodeToString</code><span class="sig-paren">(</span><em class="property">const</em> char **<em>outString</em>, SilKit_ReturnCode <em>returnCode</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425SilKit_ReturnCodeToStringPPKc17SilKit_ReturnCode" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the corresponding static error string for a given return code. </p>
<p><a class="reference internal" href="#_sil_kit_8h_1ad16b354817790f8abe87100c60516e25"><span class="std std-ref">SilKit_GetLastErrorString()</span></a> <dl class="docutils">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><code class="docutils literal notranslate"><span class="pre">outString</span></code>: The pointer through which the resulting human readable error string will be returned. </li>
<li><code class="docutils literal notranslate"><span class="pre">returnCode</span></code>: The return code for which the string should be obtained.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv425SilKit_GetLastErrorStringv">
<span id="_CPPv325SilKit_GetLastErrorStringv"></span><span id="_CPPv225SilKit_GetLastErrorStringv"></span><span id="SilKit_GetLastErrorString"></span><span class="target" id="_sil_kit_8h_1ad16b354817790f8abe87100c60516e25"></span><em class="property">const</em> char *<code class="descname">SilKit_GetLastErrorString</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425SilKit_GetLastErrorStringv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get a human readable error description of the last error on the current thread. </p>
<p>This method is intended to get specific error messages in case of a non success return code. In comparison to SilKit_ReturnCodeToString this function returns dynamic and more specific error messages.</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt><dd>A specific string containing the last error message of the current thread. </dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="participant-api">
<h3><a class="toc-backref" href="#id4">Participant API</a><a class="headerlink" href="#participant-api" title="Permalink to this headline">¶</a></h3>
<dl class="cpp function">
<dt id="_CPPv425SilKit_Participant_CreatePP18SilKit_ParticipantP31SilKit_ParticipantConfigurationPKcPKc">
<span id="_CPPv325SilKit_Participant_CreatePP18SilKit_ParticipantP31SilKit_ParticipantConfigurationPKcPKc"></span><span id="_CPPv225SilKit_Participant_CreatePP18SilKit_ParticipantP31SilKit_ParticipantConfigurationPKcPKc"></span><span id="SilKit_Participant_Create__SilKit_ParticipantPP.SilKit_ParticipantConfigurationP.cCP.cCP"></span><span class="target" id="_participant_8h_1a96d8265705e0f76df13eeb17d00624c1"></span>SilKit_ReturnCode <code class="descname">SilKit_Participant_Create</code><span class="sig-paren">(</span>SilKit_Participant **<em>outParticipant</em>, SilKit_ParticipantConfiguration *<em>participantConfiguration</em>, <em class="property">const</em> char *<em>participantName</em>, <em class="property">const</em> char *<em>registryUri</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425SilKit_Participant_CreatePP18SilKit_ParticipantP31SilKit_ParticipantConfigurationPKcPKc" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Join the SIL Kit simulation hosted by the registry listening at URI as a participant. </p>
<p>Join the SIL Kit simulation and become a participant based on the given configuration options.</p>
<p><dl class="docutils">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><code class="docutils literal notranslate"><span class="pre">outParticipant</span></code>: The pointer through which the simulation participant will be returned (out parameter). </li>
<li><code class="docutils literal notranslate"><span class="pre">participantConfiguration</span></code>: Configuration of the participant (see SilKit_ParticipantConfiguration_FromString) </li>
<li><code class="docutils literal notranslate"><span class="pre">participantName</span></code>: Name of the participant </li>
<li><code class="docutils literal notranslate"><span class="pre">registryUri</span></code>: The <code class="docutils literal notranslate"><span class="pre">silkit://</span></code> URI of the registry </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv426SilKit_Participant_DestroyP18SilKit_Participant">
<span id="_CPPv326SilKit_Participant_DestroyP18SilKit_Participant"></span><span id="_CPPv226SilKit_Participant_DestroyP18SilKit_Participant"></span><span id="SilKit_Participant_Destroy__SilKit_ParticipantP"></span><span class="target" id="_participant_8h_1a7bf46dc1c047b2dc93ba5edd9d4912ed"></span>SilKit_ReturnCode <code class="descname">SilKit_Participant_Destroy</code><span class="sig-paren">(</span>SilKit_Participant *<em>participant</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426SilKit_Participant_DestroyP18SilKit_Participant" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Destroy a simulation participant and its associated simulation elements. </p>
<p>Destroys the simulation participant and its created simulation elements such as e.g. Can controllers.</p>
<p><dl class="docutils">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><code class="docutils literal notranslate"><span class="pre">participant</span></code>: The simulation participant to be destroyed. </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<p>Most creator functions for other objects (such as bus controllers) require an SilKit_Participant,
which is the factory object, as input parameter.</p>
</div>
<div class="section" id="services">
<h3><a class="toc-backref" href="#id5">Services</a><a class="headerlink" href="#services" title="Permalink to this headline">¶</a></h3>
<div class="section" id="vehicle-network-controller">
<h4><a class="toc-backref" href="#id6">Vehicle Network Controller</a><a class="headerlink" href="#vehicle-network-controller" title="Permalink to this headline">¶</a></h4>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="can.html">Can C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="ethernet.html">Ethernet C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="lin.html">LIN C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="flexray.html">FlexRay C API</a></li>
</ul>
</div>
</div>
<div class="section" id="data-messages-and-rpc">
<h4><a class="toc-backref" href="#id7">Data Messages and RPC</a><a class="headerlink" href="#data-messages-and-rpc" title="Permalink to this headline">¶</a></h4>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data Publish/Subscribe C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="rpc.html">RPC C API</a></li>
</ul>
</div>
</div>
<div class="section" id="state-handling-and-synchronization">
<h4><a class="toc-backref" href="#id8">State Handling and Synchronization</a><a class="headerlink" href="#state-handling-and-synchronization" title="Permalink to this headline">¶</a></h4>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="participantcontroller.html">Participant Controller C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="systemmonitor.html">System Monitor C API</a></li>
</ul>
</div>
</div>
<div class="section" id="the-logger-api">
<h4><a class="toc-backref" href="#id9">The Logger API</a><a class="headerlink" href="#the-logger-api" title="Permalink to this headline">¶</a></h4>
<p>The Logger API can be used to write log messages.</p>
<dl class="cpp function">
<dt id="_CPPv428SilKit_Participant_GetLoggerPP13SilKit_LoggerP18SilKit_Participant">
<span id="_CPPv328SilKit_Participant_GetLoggerPP13SilKit_LoggerP18SilKit_Participant"></span><span id="_CPPv228SilKit_Participant_GetLoggerPP13SilKit_LoggerP18SilKit_Participant"></span><span id="SilKit_Participant_GetLogger__SilKit_LoggerPP.SilKit_ParticipantP"></span><span class="target" id="_participant_8h_1ad49558ac4dc48cd41bd2e073a7571515"></span>SilKit_ReturnCode <code class="descname">SilKit_Participant_GetLogger</code><span class="sig-paren">(</span>SilKit_Logger **<em>outLogger</em>, SilKit_Participant *<em>participant</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428SilKit_Participant_GetLoggerPP13SilKit_LoggerP18SilKit_Participant" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Obtain the logger of a particular simulation participant. </p>
<p><p>The lifetime of the returned logger is directly bound to the lifetime of the simulation participant. There is no futher cleanup necessary, except for destroying the simulation participant at the end of the simulation. </p>
<dl class="docutils">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><code class="docutils literal notranslate"><span class="pre">outLogger</span></code>: Pointer to the resulting logger instance (out parameter). </li>
<li><code class="docutils literal notranslate"><span class="pre">participant</span></code>: The simulation participant whose logger should be returned.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv417SilKit_Logger_LogP13SilKit_Logger19SilKit_LoggingLevelPKc">
<span id="_CPPv317SilKit_Logger_LogP13SilKit_Logger19SilKit_LoggingLevelPKc"></span><span id="_CPPv217SilKit_Logger_LogP13SilKit_Logger19SilKit_LoggingLevelPKc"></span><span id="SilKit_Logger_Log__SilKit_LoggerP.SilKit_LoggingLevel.cCP"></span><span class="target" id="_logger_8h_1a368dfdf207ff252e3f55ae3e02edc56f"></span>SilKit_ReturnCode <code class="descname">SilKit_Logger_Log</code><span class="sig-paren">(</span>SilKit_Logger *<em>logger</em>, <a class="reference internal" href="#_CPPv419SilKit_LoggingLevel" title="SilKit_LoggingLevel">SilKit_LoggingLevel</a> <em>level</em>, <em class="property">const</em> char *<em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417SilKit_Logger_LogP13SilKit_Logger19SilKit_LoggingLevelPKc" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Log a message with a specified level. </p>
<p><dl class="docutils">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><code class="docutils literal notranslate"><span class="pre">logger</span></code>: The logger to use. </li>
<li><code class="docutils literal notranslate"><span class="pre">level</span></code>: The log level for the message. </li>
<li><code class="docutils literal notranslate"><span class="pre">message</span></code>: The message which shall be logged. </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
</div>
<div class="section" id="enumerations-and-typedefs">
<h3><a class="toc-backref" href="#id10">Enumerations and Typedefs</a><a class="headerlink" href="#enumerations-and-typedefs" title="Permalink to this headline">¶</a></h3>
<dl class="cpp type">
<dt id="_CPPv419SilKit_LoggingLevel">
<span id="_CPPv319SilKit_LoggingLevel"></span><span id="_CPPv219SilKit_LoggingLevel"></span><span id="SilKit_LoggingLevel"></span><span class="target" id="_logger_8h_1a97ff35fa72b19cc16bb033344bcd2e18"></span><em class="property">typedef </em>uint32_t <code class="descname">SilKit_LoggingLevel</code><a class="headerlink" href="#_CPPv419SilKit_LoggingLevel" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Information level of log messages. </p>
</dd></dl>

</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../contents.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Vector SIL Kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../simulation/simulation.html">Simulation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api.html#api-entry-point-and-api-organization">API Entry Point and API Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#services">Services</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../api.html#c-api">C API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/demos.html">Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CHANGELOG.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../licenses/license.html">SIL Kit License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../licenses/license.html#third-party-licenses">Third-Party Licenses</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/api/capi/capi.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="can.html" title="Can C API"
             >next</a> |</li>
        <li class="right" >
          <a href="../common.html" title="Common Service Data Types"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../contents.html">Vector SIL Kit 4.0.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../api.html" >API</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">C API</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Copyright (c) 2022 Vector Informatik GmbH.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
  </body>
</html>