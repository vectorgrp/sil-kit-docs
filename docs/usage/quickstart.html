

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick Start &#8212; Vector SIL Kit 4.0.5 documentation</title>
    <link rel="stylesheet" href="../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Simulation" href="../simulation/simulation.html" />
    <link rel="prev" title="Vector SIL Kit" href="../index.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../simulation/simulation.html" title="Simulation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Vector SIL Kit"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../contents.html">Vector SIL Kit 4.0.5 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Quick Start</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="quick-start">
<h1>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#terminology" id="id1">Terminology</a></li>
<li><a class="reference internal" href="#writing-your-first-sil-kit-application" id="id2">Writing your first SIL Kit application</a><ul>
<li><a class="reference internal" href="#using-the-sil-kit-package" id="id3">Using the SIL Kit package</a></li>
<li><a class="reference internal" href="#a-simple-publish-subscribe-application" id="id4">A simple Publish / Subscribe application</a></li>
</ul>
</li>
<li><a class="reference internal" href="#further-reading" id="id5">Further Reading</a></li>
</ul>
</div>
<p>The Vector SIL Kit is a C++ library for the distributed simulation of automotive networks.
It is designed to work on Windows and Linux.
This quick start demonstrates how to get started using the pre-built SIL Kit release distribution.</p>
<p>This guide will walk you through setting up a SIL Kit project from scratch. First, the terminology
required to understand the functionality is briefly discussed, then the build process and the actual code.</p>
<div class="section" id="terminology">
<span id="sec-quickstart-terminology"></span><h2><a class="toc-backref" href="#id1">Terminology</a><a class="headerlink" href="#terminology" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/participant.html"><span class="doc">Participant</span></a></td>
<td>A communication node in the distributed simulation and entry point to the SIL Kit library.
Allows creation of vehicle network controllers and other services.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/api.html#sec-api-services"><span class="std std-ref">Services</span></a></td>
<td>Participants interact with each other through the means of services, e.g.,
a <a class="reference internal" href="../api/can.html"><span class="doc">CAN Controller</span></a> or a <a class="reference internal" href="../api/pubsub.html"><span class="doc">DataPublisher</span></a>. A special service is the
<a class="reference internal" href="../api/lifecycleService.html"><span class="doc">Life Cycle Service</span></a>, which
provides state handling and access to the time synchronization service.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../configuration/configuration.html"><span class="doc">Configuration</span></a></td>
<td>The optional participant configuration file allows to easily configure a participant and its interconnection within the
simulation. It can be used to change a participants behavior without needing to recompile its sources.</td>
</tr>
<tr class="row-even"><td>Registry</td>
<td>The registry is a central service that enables participant discovery in a distributed simulation.</td>
</tr>
<tr class="row-odd"><td>Registry URI</td>
<td>The registry URI specifies where the registry can be reached.
It defaults to ‘silkit://localhost:8500’, that is, the registry is reachable via TCP on the localhost on port 8500.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../configuration/middleware-configuration.html"><span class="doc">Middleware</span></a></td>
<td>The concrete distributed communication implementation. That is, the software layer
implementing the distributed message passing mechanism.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../simulation/simulation.html#sec-sim-synchronization"><span class="std std-ref">Simulation Time</span></a></td>
<td>The simulated time within a simulation as it is perceived by a participant. Participants might be synchronized or
unsynchronized.</td>
</tr>
</tbody>
</table>
<p>A simulation consists of participants which all connect to the same registry URI.
An instance of the registry is required for coordination, either as a standalone process (see <a class="reference internal" href="utilities.html#sec-util-registry"><span class="std std-ref">sil-kit-registry</span></a>) or created programmatically.
The participants might be physically distributed in a network or running on the same host.</p>
<p>Thus, it is feasible to have multiple simulations running in parallel on the same host computer.
Some participants can have special roles, depending on e.g., the synchronization and detail of the simulation.</p>
</div>
<div class="section" id="writing-your-first-sil-kit-application">
<h2><a class="toc-backref" href="#id2">Writing your first SIL Kit application</a><a class="headerlink" href="#writing-your-first-sil-kit-application" title="Permalink to this headline">¶</a></h2>
<p>This tutorial assumes that you are familiar with <a class="reference external" href="https://cmake.org">CMake (https://cmake.org)</a> and C++.</p>
<div class="section" id="using-the-sil-kit-package">
<h3><a class="toc-backref" href="#id3">Using the SIL Kit package</a><a class="headerlink" href="#using-the-sil-kit-package" title="Permalink to this headline">¶</a></h3>
<p>The SIL Kit distribution contains a self-contained and deployable installation in the <em>SilKit</em> directory.
The  CMake build configuration required is exported to <code class="docutils literal notranslate"><span class="pre">SilKit/lib/cmake/SilKit</span></code> and
defines the <code class="docutils literal notranslate"><span class="pre">SilKit::SilKit</span></code> target.</p>
<p>From CMake this can be easily used via the  <code class="docutils literal notranslate"><span class="pre">find_package(SilKit</span> <span class="pre">CONFIG)</span></code> mechanism.
For example, the following CMakeLists.txt is able to import the SIL Kit library based on its filesystem path.</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">Project</span><span class="p">(</span><span class="s">SampleSilKit</span><span class="p">)</span>
<span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span> <span class="s">3.0</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_BUILD_TYPE</span> <span class="s">Debug</span><span class="p">)</span>
<span class="nb">find_package</span><span class="p">(</span><span class="s">SilKit</span> 
    <span class="s">REQUIRED</span> <span class="s">CONFIG</span>
    <span class="s">PATHS</span> <span class="s2">&quot;${CMAKE_CURRENT_LIST_DIR}/SilKit&quot;</span>
<span class="p">)</span>
<span class="nb">find_package</span><span class="p">(</span><span class="s">Threads</span> <span class="s">REQUIRED</span><span class="p">)</span>
<span class="nb">add_executable</span><span class="p">(</span><span class="o">${</span><span class="nv">PROJECT_NAME</span><span class="o">}</span> <span class="s">simple.cpp</span><span class="p">)</span>
<span class="nb">target_link_libraries</span><span class="p">(</span><span class="o">${</span><span class="nv">PROJECT_NAME</span><span class="o">}</span> <span class="s">PRIVATE</span> <span class="s">SilKit::SilKit</span> <span class="s">Threads::Threads</span><span class="p">)</span>
</pre></div>
</div>
<p>Properties, like include directories and compile flags, are automatically handled by the imported target.
If you use another method to build your software you can directly use the <code class="docutils literal notranslate"><span class="pre">SilKit/include</span></code> and
<code class="docutils literal notranslate"><span class="pre">SilKit/lib</span></code> directories for C++ headers and libraries.</p>
</div>
<div class="section" id="a-simple-publish-subscribe-application">
<span id="sec-quickstart-simple"></span><h3><a class="toc-backref" href="#id4">A simple Publish / Subscribe application</a><a class="headerlink" href="#a-simple-publish-subscribe-application" title="Permalink to this headline">¶</a></h3>
<p>We’ll create a simple, self-contained SIL Kit application that uses <a class="reference internal" href="../api/pubsub.html"><span class="doc">Publish/Subscribe</span></a>
to exchange user-defined data among its participants.</p>
<p>To use the SIL Kit, you first have to create a valid configuration.  This can
be done by loading an existing <a class="reference internal" href="../configuration/configuration.html#sec-ibconfig-json"><span class="std std-ref">YAML file</span></a>.</p>
<p>We use a configuration file <code class="docutils literal notranslate"><span class="pre">simple.yaml</span></code> for creating our simulation.
The file will be loaded by our application and from helper <a class="reference internal" href="utilities.html"><span class="doc">Utilities</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">auto</span> <span class="n">config</span> <span class="o">=</span> <span class="n">SilKit</span><span class="p">::</span><span class="n">Config</span><span class="p">::</span><span class="n">ParticipantConfigurationFromFile</span><span class="p">(</span><span class="s2">&quot;simple.yaml&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The configuration file itself contains an empty JSON object, that later on can be used to configure our simulation participants
without recompiling it.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span> <span class="p p-Indicator">{}</span>
</pre></div>
</div>
<p>The application will run two participants concurrently, each in their own thread.
One thread will act as a publisher by sending a test string to its subscribers:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">publisher_main</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">SilKit</span><span class="o">::</span><span class="n">Config</span><span class="o">::</span><span class="n">IParticipantConfiguration</span><span class="o">&gt;</span> <span class="n">config</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">auto</span> <span class="n">participant</span> <span class="o">=</span> <span class="n">SilKit</span><span class="o">::</span><span class="n">CreateParticipant</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s">&quot;PublisherParticipant&quot;</span><span class="p">,</span> <span class="n">registryUri</span><span class="p">);</span>
    <span class="n">SilKit</span><span class="o">::</span><span class="n">Services</span><span class="o">::</span><span class="n">PubSub</span><span class="o">::</span><span class="n">PubSubSpec</span> <span class="n">pubSubSpec</span><span class="p">{</span><span class="s">&quot;DataService&quot;</span><span class="p">,</span> <span class="s">&quot;text/plain&quot;</span><span class="p">};</span>
    <span class="k">auto</span><span class="o">*</span> <span class="n">publisher</span> <span class="o">=</span> <span class="n">participant</span><span class="o">-&gt;</span><span class="n">CreateDataPublisher</span><span class="p">(</span><span class="s">&quot;PublisherController&quot;</span><span class="p">,</span> <span class="n">pubSubSpec</span><span class="p">);</span>
    <span class="k">auto</span><span class="o">*</span> <span class="n">lifecycleService</span> <span class="o">=</span>
        <span class="n">participant</span><span class="o">-&gt;</span><span class="n">CreateLifecycleService</span><span class="p">({</span><span class="n">SilKit</span><span class="o">::</span><span class="n">Services</span><span class="o">::</span><span class="n">Orchestration</span><span class="o">::</span><span class="n">OperationMode</span><span class="o">::</span><span class="n">Coordinated</span><span class="p">});</span>
    <span class="k">auto</span><span class="o">*</span> <span class="n">timeSyncService</span> <span class="o">=</span> <span class="n">lifecycleService</span><span class="o">-&gt;</span><span class="n">CreateTimeSyncService</span><span class="p">();</span>

    <span class="n">timeSyncService</span><span class="o">-&gt;</span><span class="n">SetSimulationStepHandler</span><span class="p">([</span><span class="n">publisher</span><span class="p">](</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">nanoseconds</span> <span class="n">now</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">static</span> <span class="k">auto</span> <span class="n">msgIdx</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

        <span class="c1">//generate some random data</span>
        <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;DataService Msg&quot;</span> <span class="o">+</span> <span class="n">std</span><span class="o">::</span><span class="n">to_string</span><span class="p">(</span><span class="n">msgIdx</span><span class="o">++</span><span class="p">);</span>
        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span> <span class="n">data</span><span class="p">{</span><span class="n">message</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">message</span><span class="p">.</span><span class="n">end</span><span class="p">()};</span>

        <span class="c1">//publish the raw bytes of the message to all subscribers</span>
        <span class="n">publisher</span><span class="o">-&gt;</span><span class="n">Publish</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">data</span><span class="p">));</span>
    <span class="p">},</span> <span class="mi">1</span><span class="n">ms</span><span class="p">);</span>
    <span class="c1">//run the simulation main loop forever</span>
    <span class="k">try</span>
    <span class="p">{</span>
        <span class="k">auto</span> <span class="n">result</span> <span class="o">=</span> <span class="n">lifecycleService</span><span class="o">-&gt;</span><span class="n">StartLifecycle</span><span class="p">();</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Publisher: result: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">result</span><span class="p">.</span><span class="n">get</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">catch</span> <span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">exception</span><span class="o">&amp;</span> <span class="n">e</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;ERROR: Publisher exception caught: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">.</span><span class="n">what</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>First, the simulation is joined by creating a participant <code class="docutils literal notranslate"><span class="pre">PublisherParticipant</span></code>.
Creating the Participant properly initializes the SIL Kit library and allows to instantiate
<a class="reference internal" href="../api/api.html"><span class="doc">Services</span></a> and offers access to the
<a class="reference internal" href="../api/lifecycleService.html"><span class="doc">Life Cycle Service</span></a>.</p>
<p>Next, we create a <a class="reference internal" href="../api/pubsub.html#_CPPv4N6SilKit8Services6PubSub14IDataPublisherE" title="SilKit::Services::PubSub::IDataPublisher"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">publisher</span></code></a> for the <code class="docutils literal notranslate"><span class="pre">DataService</span></code> topic.
This allows sending data through its <a class="reference internal" href="../api/pubsub.html#_CPPv4N6SilKit8Services6PubSub14IDataPublisher7PublishEN4Util4SpanIK7uint8_tEE" title="SilKit::Services::PubSub::IDataPublisher::Publish"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Publish()</span></code></a>
method.</p>
<p>The actual simulation is performed in the simulation task. The simulation task
is a callback that is executed by the SIL Kit runtime whenever the the simulation
time advances. This callback has to be registered with the time synchronization service’s
<a class="reference internal" href="../api/timeSyncService.html#_CPPv4N6SilKit8Services13Orchestration16ITimeSyncService24SetSimulationStepHandlerE21SimulationStepHandlerNSt6chrono11nanosecondsE" title="SilKit::Services::Orchestration::ITimeSyncService::SetSimulationStepHandler"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetSimulationStepHandler()</span></code></a>.</p>
<p>The subscriber runs in its own thread, too:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">subscriber_main</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">SilKit</span><span class="o">::</span><span class="n">Config</span><span class="o">::</span><span class="n">IParticipantConfiguration</span><span class="o">&gt;</span> <span class="n">config</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">auto</span> <span class="n">participant</span> <span class="o">=</span> <span class="n">SilKit</span><span class="o">::</span><span class="n">CreateParticipant</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s">&quot;SubscriberParticipant&quot;</span><span class="p">,</span> <span class="n">registryUri</span><span class="p">);</span>
    
    <span class="n">SilKit</span><span class="o">::</span><span class="n">Services</span><span class="o">::</span><span class="n">PubSub</span><span class="o">::</span><span class="n">PubSubSpec</span> <span class="n">pubSubSpec</span><span class="p">{</span><span class="s">&quot;DataService&quot;</span><span class="p">,</span> <span class="s">&quot;text/plain&quot;</span><span class="p">};</span>

    <span class="k">auto</span> <span class="n">receptionHandler</span> <span class="o">=</span> <span class="p">[](</span><span class="k">auto</span><span class="o">*</span> <span class="n">subscriber</span><span class="p">,</span> <span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="n">dataMessageEvent</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">message</span><span class="p">{</span><span class="n">dataMessageEvent</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">dataMessageEvent</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">end</span><span class="p">()};</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; &lt;- Received data=</span><span class="se">\&quot;</span><span class="s">&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">message</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\&quot;</span><span class="s">&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="p">};</span>
    <span class="k">auto</span><span class="o">*</span> <span class="n">subscriber</span> <span class="o">=</span> <span class="n">participant</span><span class="o">-&gt;</span><span class="n">CreateDataSubscriber</span><span class="p">(</span><span class="s">&quot;SubscriberController&quot;</span><span class="p">,</span> <span class="n">pubSubSpec</span><span class="p">,</span> <span class="n">receptionHandler</span><span class="p">);</span>

    <span class="k">auto</span><span class="o">*</span> <span class="n">lifecycleService</span> <span class="o">=</span>
        <span class="n">participant</span><span class="o">-&gt;</span><span class="n">CreateLifecycleService</span><span class="p">({</span><span class="n">SilKit</span><span class="o">::</span><span class="n">Services</span><span class="o">::</span><span class="n">Orchestration</span><span class="o">::</span><span class="n">OperationMode</span><span class="o">::</span><span class="n">Coordinated</span><span class="p">});</span>
    <span class="k">auto</span><span class="o">*</span> <span class="n">timeSyncService</span> <span class="o">=</span> <span class="n">lifecycleService</span><span class="o">-&gt;</span><span class="n">CreateTimeSyncService</span><span class="p">();</span>

    <span class="n">timeSyncService</span><span class="o">-&gt;</span><span class="n">SetSimulationStepHandler</span><span class="p">([](</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">nanoseconds</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//simulation task must be defined, even an empty one</span>
    <span class="p">},</span> <span class="mi">1</span><span class="n">ms</span><span class="p">);</span>

    <span class="k">try</span>
    <span class="p">{</span>
        <span class="k">auto</span> <span class="n">result</span> <span class="o">=</span> <span class="n">lifecycleService</span><span class="o">-&gt;</span><span class="n">StartLifecycle</span><span class="p">();</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Subscriber: result: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">result</span><span class="p">.</span><span class="n">get</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">catch</span> <span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">exception</span><span class="o">&amp;</span> <span class="n">e</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;ERROR: Subscriber exception caught: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">.</span><span class="n">what</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The setup is similar to the publisher, except that we instantiate a
<a class="reference internal" href="../api/pubsub.html#_CPPv4N6SilKit8Services6PubSub15IDataSubscriberE" title="SilKit::Services::PubSub::IDataSubscriber"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">subscriber</span></code></a> interface.
This allows us to register a
<a class="reference internal" href="../api/pubsub.html#_CPPv4N6SilKit8Services6PubSub15IDataSubscriber21SetDataMessageHandlerE18DataMessageHandler" title="SilKit::Services::PubSub::IDataSubscriber::SetDataMessageHandler"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetDataMessageHandler()</span></code></a>
callback to receive data value updates.
The simulation task has to be defined, even though no simulation work is performed.</p>
<p>To run this sample, you have to use the <a class="reference internal" href="utilities.html#sec-util-registry"><span class="std std-ref">sil-kit-registry</span></a> and
<a class="reference internal" href="utilities.html#sec-util-system-controller"><span class="std std-ref">sil-kit-system-controller</span></a> processes.
The registry is required for participants discovery.
The <a class="reference internal" href="utilities.html#sec-util-system-controller"><span class="std std-ref">sil-kit-system-controller</span></a> initializes the connected participants and starts the
simulation until the return key is pressed. For convenience and to reduce code
duplication, these utility programs are implemented in separate executables and
distributed in binary forms.</p>
<p>The final simulation setup can be run through the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Start the Middleware Registry</span>
<span class="o">./</span><span class="n">sil</span><span class="o">-</span><span class="n">kit</span><span class="o">-</span><span class="n">registry</span><span class="o">.</span><span class="n">exe</span>

<span class="c1"># Start the System Controller and tell it to wait for PublisherParticipant and SubscriberParticipant</span>
<span class="o">./</span><span class="n">sil</span><span class="o">-</span><span class="n">kit</span><span class="o">-</span><span class="n">system</span><span class="o">-</span><span class="n">controller</span><span class="o">.</span><span class="n">exe</span> <span class="n">PublisherParticipant</span> <span class="n">SubscriberParticipant</span>

<span class="c1"># Start the application running the two participants</span>
<span class="c1"># Make sure that the SilKit.dll and simple.yaml are available</span>
<span class="o">./</span><span class="n">SampleSilKit</span><span class="o">.</span><span class="n">exe</span>
</pre></div>
</div>
<p>The complete source code of this sample can be found here: <a class="reference download internal" download="" href="../_downloads/b85e86fe984ed799599cc04c32e9e439/CMakeLists.txt"><code class="xref download docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code></a>
<a class="reference download internal" download="" href="../_downloads/2666ef56b8a361ce2c6faa71db2950dc/simple.cpp"><code class="xref download docutils literal notranslate"><span class="pre">simple.cpp</span></code></a> <a class="reference download internal" download="" href="../_downloads/230d4f71bf17ec74a25548e8338f04ac/simple.yaml"><code class="xref download docutils literal notranslate"><span class="pre">simple.yaml</span></code></a></p>
</div>
</div>
<div class="section" id="further-reading">
<h2><a class="toc-backref" href="#id5">Further Reading</a><a class="headerlink" href="#further-reading" title="Permalink to this headline">¶</a></h2>
<p>More real-world examples involving time synchronization and simulated
automotive networks, can be found in the <a class="reference internal" href="../api/api.html"><span class="doc">API sections</span></a>.  Also,
studying the source code of the bundled <a class="reference internal" href="demos.html"><span class="doc">demo applications</span></a> is a
good start. The simulation lifecycle and supported simulation time
synchronization are discussed in <a class="reference internal" href="../simulation/simulation.html"><span class="doc">Simulation</span></a>.
Additionally, <a class="reference internal" href="../configuration/configuration.html"><span class="doc">Configuration</span></a> describes how the participant
configuration file can be used to change the behavior of participants.</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../contents.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Vector SIL Kit</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#terminology">Terminology</a></li>
<li class="toctree-l2"><a class="reference internal" href="#writing-your-first-sil-kit-application">Writing your first SIL Kit application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#further-reading">Further Reading</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../simulation/simulation.html">Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="demos.html">Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGELOG.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../licenses/license.html">SIL Kit License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../licenses/license.html#third-party-licenses">Third-Party Licenses</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/usage/quickstart.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../simulation/simulation.html" title="Simulation"
             >next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Vector SIL Kit"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../contents.html">Vector SIL Kit 4.0.5 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Quick Start</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Copyright (c) 2022 Vector Informatik GmbH.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
  </body>
</html>